// // ⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⠰⣍⠻⣿⣿⣿⣿⣿⣿⣿⣿⡿⢋⣴⣿⢸⣿⣿⣿⡿⠋⣼⣿⢇⣿⣿⣿⣼⢹⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
// // ⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠿⠿⣿⣿⣇⢻⣿⣦⣍⡛⢿⣿⣿⡿⢋⣴⣿⣿⣿⢸⣿⠟⣉⣴⣿⣿⡟⡼⠿⣩⣼⢃⣿⣿⣿⣿⣿⣿⣿⡿⣻⣿⣿⣿⣿⣿⣿⣿⣿⣿
// // ⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣧⡙⢶⣌⠻⣆⡛⣿⣿⣿⣿⣶⣶⣥⣿⣿⣿⣿⣿⣶⣶⣾⣿⣿⠿⢋⣠⣴⣿⡿⢣⣿⣿⣿⣿⣿⣿⢟⣣⡾⣸⣿⣿⣿⣿⣿⣿⣿⣿⣿
// // ⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⣈⢛⣶⣶⣶⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠿⠟⠲⠛⢉⣉⣩⣤⣶⣶⣿⡿⢱⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
// // ⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠟⣡⣿⣿⣿⣿⣿⣿⣿⠿⢿⣿⡿⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡟⣰⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
// // ⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠟⣵⡾⠿⣛⣿⣿⠿⣛⣥⣶⣿⣿⡟⣵⣿⡿⣫⡟⣹⣿⣿⣿⡙⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣯⣝⡋⢶⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
// // ⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⡡⡪⢕⣪⣽⣿⠟⣡⣾⣿⣿⣿⣿⡟⣼⣿⢏⣾⠟⣼⣿⣿⣿⣿⣿⣦⡹⢿⡙⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⣌⠛⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿
// // ⣿⣿⣿⣿⣿⣿⣷⣄⡲⢶⣶⣶⣶⣶⣶⣾⣿⣿⣿⣧⣾⣿⣿⣿⣿⠟⣴⣹⣿⢣⣿⡟⣼⣿⣿⣿⢻⣿⣿⣿⣷⡘⣷⡸⣿⣿⣿⢻⣿⣿⣿⣿⣿⣿⣿⣦⣍⣉⣉⣉⠻⠿⠿⢟⣛
// // ⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⣯⣍⠻⣟⣻⣻⣿⣿⣿⣿⣿⣿⣿⡿⢫⣾⡇⣿⢣⣿⡟⣼⣿⣿⣿⣿⢸⣿⣿⣿⣿⣿⡜⣇⢻⣿⣿⡸⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⠟⣰
// // ⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⢏⣾⢟⣵⣿⣿⣿⣿⣿⣿⡿⢋⣴⣿⣿⢱⢣⣿⣿⢱⣿⣿⣿⣿⣿⢸⣿⣿⣿⣿⣿⣷⢸⢸⣧⢿⡇⣯⡙⢿⣿⣿⣿⣿⣿⡿⠿⢟⣛⡯⢁⣴⣿⣿
// // ⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠣⣏⣵⣿⣿⡿⣻⣿⡿⢛⣭⣾⣿⣿⡿⣿⠈⣿⣿⡟⣾⣿⣿⣿⣿⡟⣸⣿⢿⣿⣿⣿⣿⡏⢸⣿⡜⣿⢹⣿⣦⡹⣿⣿⣿⣿⡛⢋⣉⣤⣶⣿⣿⣿⣿
// // ⣿⣿⣿⣿⣿⣿⠿⣛⣭⣶⣿⣿⢻⡿⢋⣴⣿⣿⣿⣿⣿⣿⣿⠏⡴⣿⠸⣿⣿⣷⣿⣿⣿⢿⣿⢃⣿⣿⠘⣷⢻⣿⡜⣿⣾⣿⣷⡘⣇⢻⣿⣿⣜⢿⣿⣿⣿⣷⣦⣝⠻⠿⣿⣿⣿
// // ⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡶⠢⣪⣾⣿⣿⣿⠿⡛⣡⣿⢟⢅⡞⣼⣿⡿⣻⣿⣿⡟⣿⣿⢸⣏⣾⣿⢏⣾⡸⠘⣿⡇⢹⣿⡎⣿⢳⡜⠌⢿⣿⣿⡎⢿⣿⡿⡻⠿⣿⣿⣿⣷⡶⠶
// // ⣿⣿⣿⣿⣿⣿⣿⣿⢟⣡⣼⣿⣿⡿⢟⣫⣵⢎⠔⡫⠖⢋⢞⣸⣿⣿⢣⣿⣿⡿⣸⡿⠃⢸⣿⣿⢏⢎⡜⡇⠀⣿⢸⡞⣿⡇⢹⢸⣿⣆⠈⢿⣿⣿⣌⣿⣷⡹⣄⢶⣶⣶⣶⣾⣿
// // ⣿⣿⣿⣿⣿⡿⢋⣵⣿⣿⣛⣯⣵⡾⣿⣟⣡⡴⢋⡴⢃⠊⢀⣿⣿⡿⣸⣿⣿⡇⣿⠃⡰⣼⣿⠏⣢⣝⠻⢸⠀⡏⢺⡇⣿⢳⠸⢸⣿⡏⣴⣌⡻⣿⣿⣿⣿⣷⡙⣧⢻⣿⣿⣿⣿
// // ⣿⣿⣿⣿⣿⣿⣶⣶⣶⣦⣤⣶⠂⣼⣿⣿⡿⢀⣏⡀⡂⢀⢸⣿⢻⡇⣿⣿⡿⢰⢃⣼⢇⡿⢃⣴⣿⣿⣿⣆⠱⠐⡣⠃⡿⣼⠀⣿⡿⢰⡟⣿⢹⣾⢰⣿⣿⣯⠻⣎⠣⢻⣿⣿⣿
// // ⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡟⣡⣾⣿⠟⣻⠁⣿⣿⠁⣠⠎⢸⡇⣿⠇⣿⣿⠣⠘⣼⡿⢜⠐⠙⠛⠻⠍⢙⡂⠠⣿⣤⠀⠣⣿⢠⡿⢁⡟⡄⡟⣿⣿⢸⣷⠹⣿⠑⢌⡻⣦⣙⠿⣿
// // ⣿⣿⣿⣿⣿⣿⣿⣿⡿⣣⡾⠟⣋⣴⢸⣿⣇⠹⣿⡆⢻⡀⢸⢸⢏⡆⢻⡟⢀⠀⢻⣡⣾⢨⡍⠁⠀⢐⣤⡂⠉⡄⣤⣧⡖⡅⡼⡱⡜⣴⡇⢃⣿⡟⣾⣿⡰⢹⢸⣶⣮⣔⣉⣛⣒
// // ⣿⣿⣿⣿⣿⣿⣿⣿⣶⣶⣿⣿⣿⣿⢸⣿⣿⣦⠹⣿⣄⠷⢸⡌⡞⣼⠸⢣⣿⢰⣀⠈⠳⡈⠣⢕⣂⣴⠶⠅⠰⢶⣭⣍⡼⣁⠘⠡⢾⣿⠓⡄⣿⢣⡏⢻⡇⣷⣁⢿⣿⣿⣿⣿⣿
// // ⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⢸⣿⣿⣿⣧⠹⣿⣿⡜⠑⣸⣿⣧⢸⣿⣿⣿⣧⣄⠈⠓⠦⣈⣴⣿⣿⣿⣶⡝⢿⡡⢹⠋⠀⢀⠈⠙⠃⡏⢼⣇⢇⢿⢨⡻⢮⠻⣿⣿⣿⣿
// // ⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⢸⢻⣿⣿⢇⣷⣦⣭⢱⢰⣿⣿⣿⣾⣿⣿⣿⣿⣿⣿⡶⠀⠈⠙⠿⣿⣿⣿⣿⢸⡇⢀⠣⠤⠽⠃⣀⢱⢸⠘⣿⢸⡌⢸⣿⣶⣧⣽⣿⣿⣿
// // ⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡇⢣⣿⣿⡿⣼⣿⣿⣿⢸⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣧⠀⠀⠀⠀⠀⠈⠉⢁⠈⠃⠂⢉⣦⠍⣴⠏⣦⠈⣼⣌⠎⣷⣼⣿⣿⣿⣿⣿⣿⣿
// // ⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⣷⢸⢻⢣⡿⠿⢿⣏⢸⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣧⣄⣀⣀⣀⣀⣴⣿⣷⣶⡄⠀⠉⠀⠛⠰⣿⢄⢻⣿⣷⣾⣿⣿⣿⣿⣿⣿⣿⣿
// // ⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡆⣴⣿⣿⣿⣇⢿⣌⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣶⡽⢟⣩⡄⠀⠀⠀⠀⠀⣠⣶⣾⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
// // ⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠇⣿⣿⣿⣿⣿⣸⣿⣦⡹⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣧⣾⣿⣿⡿⢠⣶⣶⣶⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
// // ⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⢸⣿⣿⣿⣿⣿⡇⣿⣿⣷⣌⠻⣿⣿⣿⣿⣿⣿⣿⣭⣭⣉⡩⠛⣛⠿⣿⣿⣿⠟⣴⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
// // ⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡇⣾⣿⣿⣿⣿⣿⣇⡜⣿⣿⣿⣷⡘⢿⣿⣿⣿⣿⣿⣿⣯⡉⢛⠻⣶⣶⣾⠟⣡⣾⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
// // ⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡟⣀⠀⢠⣿⣿⣿⣿⣿⣿⠇⢰⢹⣿⣿⣿⣿⣦⡙⢿⣿⣿⣿⣿⣿⣿⣷⣾⣿⠟⣡⣾⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
// // ⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡟⢰⠛⢷⣌⡻⢿⣿⣿⣿⣿⠀⣸⣇⢻⣿⣿⣿⣿⣷⣄⠙⢿⣿⣿⣿⣿⣿⠟⣡⣾⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
// // ⣿⣿⣿⣿⣿⣿⣿⣿⣿⡿⢡⢃⣿⣷⣬⡛⠶⣍⡛⠿⣿⢸⣿⣿⣧⢻⣿⣿⣿⣿⣿⣷⣦⡝⠿⠿⣿⢏⣾⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
// // ⣿⣿⣿⣿⣿⣿⡿⠟⢛⢃⢀⣾⣿⣿⣿⣿⣷⣮⣍⡓⠤⣌⣛⠿⢿⣷⡙⣿⣿⣿⣿⣿⣿⡿⠀⠀⠐⣾⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
// // ⣿⣿⣿⡿⠟⣡⡶⠿⠧⠀⢾⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣶⣮⣭⣐⠈⠍⠘⠻⢿⣿⣿⡿⠁⠀⠀⡀⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
// // ⣿⢋⣡⠴⣋⣵⣾⣿⢿⣷⣦⠈⠿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡷⠦⠀⠀⢹⠁⣠⣤⣶⡅⠃⠛⠿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿ 




// #include <bits/stdc++.h>
// using namespace std;
// #define gc getchar_unlocked
// #define fo(i, n) for (i = 0; i < n; i++)
// #define Fo(i, k, n) for (i = k; k < n ? i < n : i > n; k < n ? i += 1 : i -= 1)
// #define ll long long
// #define deb(x) cout << #x << "=" << x << endl
// #define pb push_back
// #define mp make_pair
// #define F first
// #define S second     
// #define all(x) x.begin(), x.end()
// #define clr(x) memset(x, false, sizeof(x))
// #define sortall(x) sort(all(x))
// #define tr(it, a) for (auto it = a.begin(); it != a.end(); it++)
// #define PI 3.1415926535897932384626
// #define mod 1000000007
// typedef pair<int, int> pii;
// typedef pair<ll, ll> pl;
// typedef vector<int> vi;
// typedef vector<ll> vl;
// typedef vector<pii> vpii;
// typedef vector<pl> vpl;
// typedef vector<vi> vvi;
// typedef vector<vl> vvl;
// void file_i_o(){
//     ios_base::sync_with_stdio(0);
//     cin.tie(0);
//     cout.tie(0);
// }
// int main(){
//     ios::sync_with_stdio(false);
//     cin.tie(nullptr);

//     int T; cin>>T;
//     while(T--){
//         ll N,K; cin>>N>>K;
//         vector<ll>A(N);
//         for(int i=0;i<N;i++) cin>>A[i];
//         nth_element(A.begin(), A.begin()+1, A.end());
//         if(A[0]>A[1]) swap(A[0],A[1]);
//         ll s0=A[0], s1=A[1];
//         ll sum=0;
//         for(ll x:A) sum+=x;
//         ll F = (s1>s0 ? s0+1 : s0);
//         vector<ll> c;
//         ll prev=s1;
//         while(prev>F){
//             ll cur = (s0 + prev + 1)/2;
//             c.push_back(cur);
//             prev=cur;
//         }
//         c.push_back(F);
//         int m = c.size();
//         vector<ll> ps(m+1,0);
//         for(int i=0;i<m;i++) ps[i+1]=ps[i]+c[i];
//         ll delta;
//         if(K<=m) delta = ps[K];
//         else delta = ps[m] + (K-m)*F;
//         cout<<(sum + delta)<<"\n";
//     }
//     return 0;
// }

#include <bits/stdc++.h>
using namespace std;
#define gc getchar_unlocked
#define fo(i, n) for (i = 0; i < n; i++)
#define Fo(i, k, n) for (i = k; k < n ? i < n : i > n; k < n ? i += 1 : i -= 1)
#define ll long long
#define deb(x) cout << #x << "=" << x << endl
#define pb push_back
#define mp make_pair
#define F first
#define S second
#define all(x) x.begin(), x.end()
#define clr(x) memset(x, false, sizeof(x))
#define sortall(x) sort(all(x))
#define tr(it, a) for (auto it = a.begin(); it != a.end(); it++)
#define PI 3.1415926535897932384626
#define mod 1000000007
typedef pair<int, int> pii;
typedef pair<ll, ll> pl;
typedef vector<int> vi;
typedef vector<ll> vl;
typedef vector<pii> vpii;
typedef vector<pl> vpl;
typedef vector<vi> vvi;
typedef vector<vl> vvl;
void file_i_o(){
    ios_base::sync_with_stdio(0);
    cin.tie(0);
    cout.tie(0);
}
int main(){
    file_i_o();
    int t;
    cin>>t;
    while(t--){
        ll n, k;cin>>n>>k;
        vector<ll> a(n);
        int ans=0;
        for(int i=0;i<n;i++){
            cin>>a[i];
            ans+= a[i];
        }
        sort(a.begin(), a.end());
        ll first=a[0];
        ll second=a[1];
        while(k--){
            int sum = first + second;
            int x;
            if(sum%2==0) x = sum/2;
            else x = (sum+1)/2;
            ans+=x;
            second = x;
        }
        cout<<ans<<"\n";
    }
}